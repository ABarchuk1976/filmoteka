!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var r=a("j1lrD"),i=a("fJh0j");a("4LMMA");var c=document.querySelector(".js-gallery"),s=document.querySelector(".js-pagination"),o=document.querySelector(".header__warning"),d=document.querySelector(".header__input"),u=document.querySelector(".header__form"),l=1,v=1;function f(){(0,r.default)(),o.insertAdjacentHTML("beforeend",'<div class="header__warning-message">Search result not successful. Enter the correct movie name.</div>'),setTimeout((function(){o.innerHTML=""}),4e3),c.innerHTML="",v=1,l=1,(0,i.getAPIData)(l,v).then((function(e){var t=e.page,n=e.results,a=e.total_pages;(0,i.renderFilmCards)(n,c),(0,i.renderPagination)(t,a,s)})).catch((function(){o.insertAdjacentHTML("beforeend",'<div class="header__warning-message">Service is temporarily unavailable.</div>'),setTimeout((function(){o.innerHTML=""}),4e3)})),(0,r.default)()}window.addEventListener("load",(function(){(0,r.default)(),c.innerHTML="",l=1,v=1,(0,i.getAPIData)(l,v).then((function(e){var t=e.page,n=e.results,a=e.total_pages;(0,i.renderFilmCards)(n,c),(0,i.renderPagination)(t,a,s)})).catch((function(e){o.insertAdjacentHTML("beforeend",'<div class="header__warning-message">Service is temporarily unavailable.</div>'),setTimeout((function(){o.innerHTML=""}),4e3)})),(0,r.default)()})),s.addEventListener("click",(function(e){(0,r.default)();var t=e.target;if("..."===t.textContent||"LI"!==t.tagName)return;t.classList.contains("js-pagination__arrow-left")&&(l-=1);t.classList.contains("js-pagination__arrow-right")&&(l+=1);t.classList.contains("js-pagination__button")&&(l=Number(t.textContent));(0,i.getAPIData)(l,v).then((function(e){var t=e.page,n=e.results,a=e.total_pages;(0,i.renderFilmCards)(n,c),(0,i.renderPagination)(t,a,s)})).catch((function(){o.insertAdjacentHTML("beforeend",'<div class="header__warning-message">Service is temporarily unavailable.</div>'),setTimeout((function(){o.innerHTML=""}),4e3)})),(0,r.default)(),(0,i.goUp)()})),u.addEventListener("submit",(function(e){v=0,l=1,(0,r.default)(),e.preventDefault(),e.currentTarget.elements.searchQuery.value.trim().toLowerCase()?((0,i.getAPIData)(l,v).then((function(e){var t=e.page,n=e.results,a=e.total_pages;a?((0,i.renderFilmCards)(n,c),(0,i.renderPagination)(t,a,s)):f()})).catch((function(e){o.insertAdjacentHTML("beforeend",'<div class="header__warning-message">Service is temporarily unavailable.</div>'),setTimeout((function(){o.innerHTML=""}),4e3)})),(0,r.default)()):f()})),d.addEventListener("input",(function(e){var t=e.target,n=document.querySelector(".header__btn-clear");function a(){t.value="",n.classList.add("hidden"),n.removeEventListener("click",a)}t.value.length?n.classList.remove("hidden"):(n.classList.add("hidden"),n.removeEventListener("click",a)),n.addEventListener("click",a)}));var m=a("4LMMA"),h=a("73ES2"),g=a("cDXQO"),_=a("iDjs5"),L={gallery:document.querySelector(".js-gallery"),closeBtn:document.querySelector("[data-modal-close]"),btnWatched:document.querySelector(".btn_watched"),btnQueue:document.querySelector(".btn_queue")},b=new(0,h.default);function E(){var e=document.querySelector(".iframe-container"),t=document.querySelector(".film__info-wrapper");(0,g.handleBackButtonClick)(e,t),b.close(),L.closeBtn.removeEventListener("click",E),g.trailerButtonRef.removeEventListener("click",g.handleTrailerButtonClick),window.removeEventListener("keydown",p)}function p(e){"Escape"===e.code&&(b.close(),L.closeBtn.removeEventListener("click",E),window.removeEventListener("keydown",p))}L.gallery.addEventListener("click",(function(e){if(e.preventDefault(),g.trailerButtonRef.addEventListener("click",g.handleTrailerButtonClick),"IMG"!==e.target.nodeName)return;var t=(n=e.target.id,m.load("film-current-page").find((function(e){return e.id===Number(n)})));var n;b.modifyDataFilm(t),b.open(),L.btnWatched.addEventListener("click",(function(){L.btnWatched.classList.contains("watched_send")?(L.btnWatched.textContent="REMOVE FROM WATCHED",L.btnWatched.classList.replace("watched_send","watched_remove"),(0,_.sendWatchedToStorage)()):L.btnWatched.classList.contains("watched_remove")&&(L.btnWatched.textContent="ADD TO WATCHED",L.btnWatched.classList.replace("watched_remove","watched_send"),function(e){try{var t=localStorage.getItem("WatchedMovies"),n=JSON.parse(t),a=n.findIndex((function(t){return t.id===e.id}));n.splice(a,1),localStorage.setItem("WatchedMovies",JSON.stringify(n))}catch(e){}}(t));L.btnWatched.textContent="ADD TO WATCHED",L.btnWatched.classList.replace("watched_remove","watched_send")})),L.btnQueue.addEventListener("click",(function(){L.btnQueue.classList.contains("queue_send")?(L.btnQueue.textContent="REMOVE FROM QUEUE",L.btnQueue.classList.replace("queue_send","queue_remove"),(0,_.sendQueueToStorage)()):L.btnQueue.classList.contains("queue_remove")&&(L.btnQueue.textContent="ADD TO QUEUE",L.btnQueue.classList.replace("queue_remove","queue_send"),function(e){try{var t=localStorage.getItem("QueueMovies"),n=JSON.parse(t),a=n.findIndex((function(t){return t.id===e.id}));n.splice(a,1),localStorage.setItem("QueueMovies",JSON.stringify(n))}catch(e){}}(t));L.btnQueue.textContent="ADD TO QUEUE",L.btnQueue.classList.replace("queue_remove","queue_send")})),localStorage.setItem("CurrentFilm",JSON.stringify(t)),function(e){try{var t=localStorage.getItem("WatchedMovies");JSON.parse(t).find((function(t){return t.id===e.id}))?(L.btnWatched.classList.replace("watched_send","watched_remove"),L.btnWatched.textContent="REMOVE FROM WATCHED"):(L.btnWatched.classList.replace("watched_remove","watched_send"),L.btnWatched.textContent="ADD TO WATCHED")}catch(e){L.btnWatched.classList.replace("watched_remove","watched_send")}}(t),L.btnWatched.classList.contains("watched_remove")?L.btnWatched.textContent="REMOVE FROM WATCHED":L.btnWatched.classList.contains("watched_send")&&(L.btnWatched.textContent="ADD TO WATCHED");(function(e){try{var t=localStorage.getItem("QueueMovies");JSON.parse(t).find((function(t){return t.id===e.id}))?(L.btnQueue.classList.replace("queue_send","queue_remove"),L.btnQueue.textContent="REMOVE FROM QUEUE"):(L.btnQueue.classList.replace("queue_remove","queue_send"),L.btnQueue.textContent="ADD TO QUEUE")}catch(e){L.btnQueue.classList.replace("queue_remove","queue_send")}})(t),L.btnQueue.classList.contains("queue_remove")?L.btnQueue.textContent="REMOVE FROM QUEUE":L.btnWatched.classList.contains("queue_send")&&(L.btnQueue.textContent="ADD TO QUEUE");L.closeBtn.addEventListener("click",E),window.addEventListener("keydown",p)})),L.closeBtn.addEventListener("click",E),window.addEventListener("keydown",p),document.addEventListener("click",(function(e){!e.target.closest(".modal")&&e.target.closest(".backdrop")&&E()})),a("cDXQO"),a("aZhHc"),a("d7VxN")}();
//# sourceMappingURL=index.c55d3c77.js.map
