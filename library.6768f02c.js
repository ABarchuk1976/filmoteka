!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},c=e.parcelRequired7c6;null==c&&((c=function(e){if(e in t)return t[e].exports;if(e in n){var c=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,c.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=c),c("aZhHc"),c("d7VxN"),c("iDjs5"),c("cDXQO");var a=c("4LMMA"),o=c("73ES2"),s=c("iDjs5"),r={gallery:document.querySelector(".js-gallery-library"),closeBtn:document.querySelector("[data-modal-close]"),btnWatched:document.querySelector(".btn_watched"),btnQueue:document.querySelector(".btn_queue"),activLibraryBtn:document.querySelector(".filter__item>.filter__button--active")},i=new(0,o.default);function d(){i.close(),r.closeBtn.removeEventListener("click",d),window.removeEventListener("keydown",u),window.location.reload()}function u(e){"Escape"===e.code&&(i.close(),r.closeBtn.removeEventListener("click",d),window.removeEventListener("keydown",u))}r.gallery.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;var t=(n=e.target.id,a.load("QueueMovies").concat(a.load("WatchedMovies")).find((function(e){return e.id===Number(n)})));var n;i.modifyDataFilm(t),i.open(),r.btnWatched.addEventListener("click",(function(){r.btnWatched.classList.contains("watched_send")?(r.btnWatched.textContent="REMOVE FROM WATCHED",r.btnWatched.classList.replace("watched_send","watched_remove"),(0,s.sendWatchedToStorage)()):r.btnWatched.classList.contains("watched_remove")&&(r.btnWatched.textContent="ADD TO WATCHED",r.btnWatched.classList.replace("watched_remove","watched_send"),function(e){try{var t=localStorage.getItem("WatchedMovies"),n=JSON.parse(t),c=n.findIndex((function(t){return t.id===e.id}));n.splice(c,1),localStorage.setItem("WatchedMovies",JSON.stringify(n))}catch(e){}}(t));r.btnWatched.textContent="ADD TO WATCHED",r.btnWatched.classList.replace("watched_remove","watched_send")})),r.btnQueue.addEventListener("click",(function(){r.btnQueue.classList.contains("queue_send")?(r.btnQueue.textContent="REMOVE FROM QUEUE",r.btnQueue.classList.replace("queue_send","queue_remove"),(0,s.sendQueueToStorage)()):r.btnQueue.classList.contains("queue_remove")&&(r.btnQueue.textContent="ADD TO QUEUE",r.btnQueue.classList.replace("queue_remove","queue_send"),function(e){try{var t=localStorage.getItem("QueueMovies"),n=JSON.parse(t),c=n.findIndex((function(t){return t.id===e.id}));n.splice(c,1),localStorage.setItem("QueueMovies",JSON.stringify(n))}catch(e){}}(t));r.btnQueue.textContent="ADD TO QUEUE",r.btnQueue.classList.replace("queue_remove","queue_send")})),localStorage.setItem("CurrentFilm",JSON.stringify(t)),function(e){try{var t=localStorage.getItem("WatchedMovies");JSON.parse(t).find((function(t){return t.id===e.id}))?(r.btnWatched.classList.replace("watched_send","watched_remove"),r.btnWatched.textContent="REMOVE FROM WATCHED"):(r.btnWatched.classList.replace("watched_remove","watched_send"),r.btnWatched.textContent="ADD TO WATCHED")}catch(e){r.btnWatched.classList.replace("watched_remove","watched_send")}}(t),r.btnWatched.classList.contains("watched_remove")?r.btnWatched.textContent="REMOVE FROM WATCHED":r.btnWatched.classList.contains("watched_send")&&(r.btnWatched.textContent="ADD TO WATCHED");(function(e){try{var t=localStorage.getItem("QueueMovies");JSON.parse(t).find((function(t){return t.id===e.id}))?(r.btnQueue.classList.replace("queue_send","queue_remove"),r.btnQueue.textContent="REMOVE FROM QUEUE"):(r.btnQueue.classList.replace("queue_remove","queue_send"),r.btnQueue.textContent="ADD TO QUEUE")}catch(e){r.btnQueue.classList.replace("queue_remove","queue_send")}})(t),r.btnQueue.classList.contains("queue_remove")?r.btnQueue.textContent="REMOVE FROM QUEUE":r.btnWatched.classList.contains("queue_send")&&(r.btnQueue.textContent="ADD TO QUEUE");r.closeBtn.addEventListener("click",d),window.addEventListener("keydown",u)})),r.closeBtn.addEventListener("click",d),window.addEventListener("keydown",u),document.addEventListener("click",(function(e){!e.target.closest(".modal")&&e.target.closest(".backdrop")&&d()}));o=c("73ES2"),c("4s6iC");var l=1,v=(document.querySelector(".filter__list"),document.querySelector(".filter__item-queue")),h=document.querySelector(".filter__item-watched"),m=(document.querySelector(".js-pagination-library"),document.querySelector(".empty-list"));document.querySelector(".js-gallery-library");function f(e){var t=e.target,n=(l=t.classList.contains("filter__item-queue")?1:0)?"QueueMovies":"WatchedMovies";l?(v.classList.add("active"),h.classList.remove("active")):(h.classList.add("active"),v.classList.remove("active"));try{var c=function(e){try{var t=localStorage.getItem(e);if(t){t=JSON.parse(t),console.log("At paginateAllStorage",t);for(var n=[],c=0;c<t.length;c+=6){var a=c+6<t.length?c+6:t.length;n.push(t.slice(c,a))}return n}}catch(e){console.log(e)}}(n);if(!c)throw"No data to render";m.classList.add("is-hidden")}catch(e){m.classList.remove("is-h"),console.log(e)}}v.addEventListener("click",f),h.addEventListener("click",f)}();
//# sourceMappingURL=library.6768f02c.js.map
