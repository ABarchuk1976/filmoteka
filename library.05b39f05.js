!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},c=t.parcelRequired7c6;null==c&&((c=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var c={id:e,exports:{}};return n[e]=c,t.call(c.exports,c,c.exports),c.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=c),c("aZhHc"),c("d7VxN"),c("iDjs5"),c("cDXQO");var s=c("4LMMA"),i=c("73ES2"),r=c("iDjs5"),o={gallery:document.querySelector(".js-gallery-library"),closeBtn:document.querySelector("[data-modal-close]"),btnWatched:document.querySelector(".btn_watched"),btnQueue:document.querySelector(".btn_queue"),activLibraryBtn:document.querySelector(".filter__item>.filter__button--active")},d=new(0,i.default);function l(){d.close(),o.closeBtn.removeEventListener("click",l),window.removeEventListener("keydown",u),window.location.reload()}function u(e){"Escape"===e.code&&(d.close(),o.closeBtn.removeEventListener("click",l),window.removeEventListener("keydown",u))}o.gallery.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;var t=(n=e.target.id,s.load("QueueMovies").concat(s.load("WatchedMovies")).find((function(e){return e.id===Number(n)})));var n;d.modifyDataFilm(t),d.open(),o.btnWatched.addEventListener("click",(function(){o.btnWatched.classList.contains("watched_send")?(o.btnWatched.textContent="REMOVE FROM WATCHED",o.btnWatched.classList.replace("watched_send","watched_remove"),(0,r.sendWatchedToStorage)()):o.btnWatched.classList.contains("watched_remove")&&(o.btnWatched.textContent="ADD TO WATCHED",o.btnWatched.classList.replace("watched_remove","watched_send"),function(e){try{var t=localStorage.getItem("WatchedMovies"),n=JSON.parse(t),a=n.findIndex((function(t){return t.id===e.id}));n.splice(a,1),localStorage.setItem("WatchedMovies",JSON.stringify(n))}catch(e){}}(t));o.btnWatched.textContent="ADD TO WATCHED",o.btnWatched.classList.replace("watched_remove","watched_send")})),o.btnQueue.addEventListener("click",(function(){o.btnQueue.classList.contains("queue_send")?(o.btnQueue.textContent="REMOVE FROM QUEUE",o.btnQueue.classList.replace("queue_send","queue_remove"),(0,r.sendQueueToStorage)()):o.btnQueue.classList.contains("queue_remove")&&(o.btnQueue.textContent="ADD TO QUEUE",o.btnQueue.classList.replace("queue_remove","queue_send"),function(e){try{var t=localStorage.getItem("QueueMovies"),n=JSON.parse(t),a=n.findIndex((function(t){return t.id===e.id}));n.splice(a,1),localStorage.setItem("QueueMovies",JSON.stringify(n))}catch(e){}}(t));o.btnQueue.textContent="ADD TO QUEUE",o.btnQueue.classList.replace("queue_remove","queue_send")})),localStorage.setItem("CurrentFilm",JSON.stringify(t)),function(e){try{var t=localStorage.getItem("WatchedMovies");JSON.parse(t).find((function(t){return t.id===e.id}))?(o.btnWatched.classList.replace("watched_send","watched_remove"),o.btnWatched.textContent="REMOVE FROM WATCHED"):(o.btnWatched.classList.replace("watched_remove","watched_send"),o.btnWatched.textContent="ADD TO WATCHED")}catch(e){o.btnWatched.classList.replace("watched_remove","watched_send")}}(t),o.btnWatched.classList.contains("watched_remove")?o.btnWatched.textContent="REMOVE FROM WATCHED":o.btnWatched.classList.contains("watched_send")&&(o.btnWatched.textContent="ADD TO WATCHED");(function(e){try{var t=localStorage.getItem("QueueMovies");JSON.parse(t).find((function(t){return t.id===e.id}))?(o.btnQueue.classList.replace("queue_send","queue_remove"),o.btnQueue.textContent="REMOVE FROM QUEUE"):(o.btnQueue.classList.replace("queue_remove","queue_send"),o.btnQueue.textContent="ADD TO QUEUE")}catch(e){o.btnQueue.classList.replace("queue_remove","queue_send")}})(t),o.btnQueue.classList.contains("queue_remove")?o.btnQueue.textContent="REMOVE FROM QUEUE":o.btnWatched.classList.contains("queue_send")&&(o.btnQueue.textContent="ADD TO QUEUE");o.closeBtn.addEventListener("click",l),window.addEventListener("keydown",u)})),o.closeBtn.addEventListener("click",l),window.addEventListener("keydown",u),document.addEventListener("click",(function(e){!e.target.closest(".modal")&&e.target.closest(".backdrop")&&l()}));var v=c("8nrFW"),h=c("fJh0j"),m=1,f=[],_=1,b=document.querySelector(".filter__item-queue"),g=document.querySelector(".filter__item-watched"),E=document.querySelector(".js-pagination-library"),L=document.querySelector(".empty-list"),p=document.querySelector(".empty-title"),w=document.querySelector(".js-gallery-library");function y(t){var n=t.target;m=n.classList.contains("filter__item-queue")?1:0,_=1;var a=m?"QueueMovies":"WatchedMovies";m?(b.classList.add("active"),g.classList.remove("active")):(g.classList.add("active"),b.classList.remove("active"));try{if(f.length=0,f=e(v)(function(e){try{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);for(var n=[],a=0;a<t.length;a+=6){var c=a+6<t.length?a+6:t.length;n.push(t.slice(a,c))}return n}}catch(e){console.log(e.message)}}(a)),!f||!f.length)throw"Your film list is empty";(0,h.renderFilmCards)(f[_-1],w),(0,h.renderPagination)(_,f.length,E),L.classList.add("is-hidden")}catch(e){L.classList.remove("is-hidden"),p.textContent="Your film list is empty"}}window.addEventListener("load",(function(){b.click(),_=1})),b.addEventListener("click",y),g.addEventListener("click",y),E.addEventListener("click",(function(e){var t=e.target;if("..."===t.textContent||"LI"!==t.tagName)return;t.classList.contains("js-pagination__arrow-left")&&(_-=1);t.classList.contains("js-pagination__arrow-right")&&(_+=1);t.classList.contains("js-pagination__button")&&(_=Number(t.textContent));try{if(!f||!f.length)throw"Your film list is empty";(0,h.renderFilmCards)(f[_-1],w),(0,h.renderPagination)(_,f.length,E),L.classList.add("is-hidden")}catch(e){L.classList.remove("is-hidden"),p.textContent=e.message}(0,h.goUp)()}))}();
//# sourceMappingURL=library.05b39f05.js.map
