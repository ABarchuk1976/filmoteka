var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r),r("8G1wF"),r("7EEHk");var i=r("7EEHk"),o=r("8G1wF"),a=r("b5rV1");let c=[],s=1;const l=document.querySelector(".filter__item-queue"),d=document.querySelector(".filter__item-watched"),u=document.querySelector(".filter__list"),m=document.querySelector(".js-pagination-library"),g=document.querySelector(".empty-list"),f=document.querySelector(".empty-title"),v=document.querySelector(".js-gallery-library");function y(){v.innerHTML="",m.innerHTML=""}function w(e){try{let t=(0,a.getStore)(e);if(!t.length)return t;const n=[];for(let e=0;e<t.length;e+=6){let r=e+6<t.length?e+6:t.length;n.push(t.slice(e,r))}return console.log("allStorageDataByPages: ",n),n}catch(e){return[]}}window.addEventListener("load",(()=>{l.click()})),u.addEventListener("click",(function(e){const{name:t,tagName:n}=e.target;if("BUTTON"!==n)return;switch(t){case o.KEY_QUEUE:l.classList.add("active"),d.classList.remove("active");break;case o.KEY_WATCHED:d.classList.add("active"),l.classList.remove("active")}if(g.classList.add("is-hidden"),c=[...w(t)],console.log("In header-library: ",c),!c.length)return y(),g.classList.remove("is-hidden"),void(f.textContent="Your film list is empty.");s=1;try{console.log(c),(0,i.renderFilmCards)(c[s-1],v),(0,i.renderPagination)(s,c.length,m)}catch(e){y(),g.classList.remove("is-hidden"),f.textContent="Something went wrong."}})),m.addEventListener("click",(function(e){const t=e.target;if("..."===t.textContent||"LI"!==t.tagName)return;t.classList.contains("js-pagination__arrow-left")&&(s-=1);t.classList.contains("js-pagination__arrow-right")&&(s+=1);t.classList.contains("js-pagination__button")&&(s=Number(t.textContent));try{(0,i.renderFilmCards)(c[s-1],v),(0,i.renderPagination)(s,c.length,m),g.classList.add("is-hidden")}catch(e){g.classList.remove("is-hidden"),f.textContent=e.message}(0,i.goUp)()})),r("b5rV1");var L=r("fQE3M");i=r("7EEHk");const E=document.querySelector(".js-gallery-library"),p=document.querySelector("[data-modal-close]"),h=document.querySelector("[data-modal"),k=document.querySelector(".btn__wrapper"),_=new(0,L.default);function b(e){const{nodeName:t,name:n}=e.target;"BUTTON"===t&&((0,i.changeStore)(n),_.rerenderBtnWrapper())}function S(){_.close(),p.removeEventListener("click",S),window.removeEventListener("keydown",q),window.location.reload()}function q(e){"Escape"===e.code&&(_.close(),p.removeEventListener("click",S),window.removeEventListener("keydown",q))}E.addEventListener("click",(function(e){const{id:t,nodeName:n,name:r}=e.target;if(e.preventDefault(),"IMG"!==n)return;const o=(0,i.getFilmData)(t);_.modifyDataFilm(o),_.open(),k.addEventListener("click",b)})),p.addEventListener("click",S),window.addEventListener("keydown",q),h.addEventListener("click",(function(e){const{currentTarget:t,target:n}=e;console.log(t,n),t===n&&S()})),p.addEventListener("click",S),window.addEventListener("keydown",q),r("fQE3M"),r("7bYU0"),r("37v9V"),r("jLhJV"),r("04jNI");
//# sourceMappingURL=library.d475a464.js.map
